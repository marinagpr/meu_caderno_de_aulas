---
title: "Transforma√ß√£o Box-Cox"
format: html
editor: 
  markdown: 
    wrap: 72
---

A transforma√ß√£o de Box-Cox √© uma t√©cnica estat√≠stica utilizada para
transformar vari√°veis cont√≠nuas de forma a aproximar a normalidade e
estabilizar a vari√¢ncia, sendo particularmente √∫til em an√°lises que
exigem estas premissas, como regress√µes lineares e ANOVA. Proposta por
Box e Cox em 1964, a transforma√ß√£o aplica uma fun√ß√£o matem√°tica
parametrizada por lambda (ùúÜ), que define o tipo de transforma√ß√£o a ser
utilizada nos dados, variando desde a transforma√ß√£o logar√≠tmica (quando
ùúÜ = 0) at√© outras formas como raiz quadrada ou inversa, conforme o valor
de lambda que maximiza a verossimilhan√ßa dos dados transformados. A
escolha do valor √≥timo de ùúÜ √© realizada de forma a garantir que os
res√≠duos do modelo apresentem distribui√ß√£o aproximadamente normal e
vari√¢ncias homog√™neas, melhorando a qualidade do ajuste e a
confiabilidade dos testes estat√≠sticos aplicados posteriormente. Assim,
a transforma√ß√£o de Box-Cox √© uma ferramenta pr√°tica no pr√©-processamento
de dados, auxiliando na adequa√ß√£o dos conjuntos de dados √†s exig√™ncias
dos m√©todos param√©tricos utilizados em an√°lises estat√≠sticas

```{r}
#| message: false
#| warning: false

library(MASS)
library(DHARMa)
library(dplyr)
insects <- InsectSprays

m1 <- lm(count ~ spray, data = insects)
plot(simulateResiduals(m1))

b <- boxcox(lm(insects$count + 0.1 ~ 1))
lambda <- b$x[which.max(b$y)]
lambda

insects <- insects |> 
  dplyr::mutate(count2 = (count^lambda - 1) / lambda) |> 
  dplyr::mutate(count3 = sqrt(count))

hist(insects$count)

```

Este c√≥digo fornece:

-   Diagn√≥stico de res√≠duos do modelo linear (para avaliar se os
    pressupostos s√£o atendidos).

-   O valor √≥timo de lambda para a transforma√ß√£o de Box-Cox para seus
    dados de contagem.

-   Duas vari√°veis transformadas (count2 e count3) para futuras an√°lises
    com melhor conformidade aos pressupostos de normalidade e
    homocedasticidade.

-   Um histograma para visualizar a distribui√ß√£o original antes de
    verificar a transforma√ß√£o.

Assim, ele prepara os dados para an√°lises estat√≠sticas mais robustas em
dados de contagem, como ANOVA ou modelos lineares mistos, minimizando
problemas de viola√ß√£o de pressupostos.
